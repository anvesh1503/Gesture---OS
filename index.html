<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Gesture OS</title>
</head>

<body>

    <!-- Desktop Environment -->
    <div id="desktop">

        <!-- Desktop Icons -->
        <div class="desktop-icon" data-app="notepad">
            <div class="icon-img">üìù</div>
            <div class="icon-label">Notepad</div>
        </div>
        <div class="desktop-icon" data-app="calculator">
            <div class="icon-img">üßÆ</div>
            <div class="icon-label">Calculator</div>
        </div>
        <div class="desktop-icon" data-app="settings">
            <div class="icon-img">‚öôÔ∏è</div>
            <div class="icon-label">Settings</div>
        </div>
        <div class="desktop-icon" data-app="browser">
            <div class="icon-img">üåê</div>
            <div class="icon-label">Browser</div>
        </div>

        <!-- Windows -->

        <!-- Notepad Window -->
        <div class="window" id="win-notepad" style="top: 10%; left: 10%;">
            <div class="title-bar">
                <div class="title-text">Notepad</div>
                <div class="window-controls">
                    <div class="control-btn minimize">_</div>
                    <div class="control-btn close">‚úï</div>
                </div>
            </div>
            <div class="window-content">
                <textarea placeholder="Type something..."></textarea>
            </div>
        </div>

        <!-- Calculator Window -->
        <div class="window" id="win-calculator" style="top: 15%; left: 30%; width: 260px; height: 380px;">
            <div class="title-bar">
                <div class="title-text">Calculator</div>
                <div class="window-controls">
                    <div class="control-btn minimize">_</div>
                    <div class="control-btn close">‚úï</div>
                </div>
            </div>
            <div class="window-content calc-content">
                <div class="calc-display">0</div>
                <div class="calc-grid">
                    <button>C</button><button>/</button><button>*</button><button>-</button>
                    <button>7</button><button>8</button><button>9</button><button>+</button>
                    <button>4</button><button>5</button><button>6</button><button>=</button>
                    <button>1</button><button>2</button><button>3</button><button>.</button>
                    <button style="grid-column: span 2;">0</button>
                </div>
            </div>
        </div>

        <!-- Settings Window -->
        <div class="window" id="win-settings" style="top: 20%; left: 50%;">
            <div class="title-bar">
                <div class="title-text">Settings</div>
                <div class="window-controls">
                    <div class="control-btn minimize">_</div>
                    <div class="control-btn close">‚úï</div>
                </div>
            </div>
            <div class="window-content settings-content">
                <h2>System Settings</h2>
                <div class="setting-item theme-section">
                    <span>Theme</span>
                    <div class="theme-grid">
                        <div class="theme-btn dark" data-theme="dark" title="Dark Mode"></div>
                        <div class="theme-btn light" data-theme="light" title="Light Mode"></div>
                        <div class="theme-btn blue" data-theme="blue" title="Blue Accent"></div>
                    </div>
                </div>
                <div class="setting-item">
                    <span>Dark Mode</span>
                    <div class="toggle active"></div>
                </div>
                <div class="setting-item">
                    <span>Wi-Fi</span>
                    <div class="toggle active"></div>
                </div>
                <div class="setting-item">
                    <span>Bluetooth</span>
                    <div class="toggle"></div>
                </div>
                <!-- Cleaned up duplicate nesting here from original -->
                <div class="setting-item" id="voice-setting-row">
                    <div style="display: flex; flex-direction: column;">
                        <span>Voice Commands</span>
                        <span id="voice-status" style="font-size: 10px; opacity: 0.5;">Off</span>
                    </div>
                    <div class="toggle" id="voice-toggle"></div>
                </div>
            </div>
        </div>

        <!-- Browser Window -->
        <div class="window" id="win-browser" style="top: 5%; left: 15%; width: 800px; height: 500px;">
            <div class="title-bar">
                <div class="title-text">Pine Browser</div>
                <div class="window-controls">
                    <div class="control-btn minimize">_</div>
                    <div class="control-btn close">‚úï</div>
                </div>
            </div>
            <div class="window-content" style="padding: 0; overflow: hidden; display: flex; flex-direction: column;">
                <div class="browser-toolbar">
                    <div class="browser-controls">
                        <div class="browser-btn" id="btn-browser-back" title="Back">‚Üê</div>
                        <div class="browser-btn" id="btn-browser-reload" title="Reload">‚Üª</div>
                    </div>
                    <input type="text" id="browser-url" placeholder="Search or type URL" autocomplete="off" />
                    <div class="browser-btn" id="btn-browser-go" title="Go">Go</div>
                </div>
                <iframe id="browser-frame" src="pine browser/index.html"
                    style="width: 100%; flex: 1; border: none;"></iframe>
            </div>
        </div>

    </div>
    <!-- End Desktop -->

    <!-- Start Menu -->
    <div id="start-menu">
        <div class="start-header">
            <div class="user-profile">
                <div class="avatar">üë§</div>
                <span>User</span>
            </div>
            <div class="power-btn">‚èª</div>
        </div>
        <div class="pinned-apps">
            <h3>Pinned</h3>
            <div class="app-grid">
                <div class="start-app" data-app="notepad">üìù Notepad</div>
                <div class="start-app" data-app="calculator">üßÆ Calc</div>
                <div class="start-app" data-app="settings">‚öôÔ∏è Settings</div>
                <div class="start-app" data-app="browser">üåê Browser</div>
            </div>
        </div>
    </div>

    <!-- Taskbar -->
    <div id="taskbar">
        <div id="start-btn" class="taskbar-icon">‚äû</div>
        <div id="task-view-btn" class="taskbar-icon" title="Task View">üóî</div>
        <div class="taskbar-divider"></div>
        <div class="taskbar-icon" data-app="notepad">üìù</div>
        <div class="taskbar-icon" data-app="calculator">üßÆ</div>
        <div class="taskbar-icon" data-app="settings">‚öôÔ∏è</div>
        <div class="taskbar-spacer"></div>
        <div class="taskbar-clock">12:00 PM</div>
        <div class="taskbar-divider"></div>
        <div class="taskbar-icon" id="notif-btn" title="Notifications">üîî</div>
    </div>

    <!-- Gesture Debug Overlay (Bottom Left) -->
    <div id="gesture-overlay">
        <div class="camera-container">
            <div class="camera-nav" id="camera-nav">
                <div class="cam-btn" id="btn-minimize">_</div>
                <div class="cam-btn" id="btn-size">‚§°</div>
                <div class="cam-btn" id="btn-opacity">‚óê</div>
                <div class="cam-btn" id="btn-lock">üîí</div>
            </div>
            <video id="camera" autoplay playsinline></video>
            <canvas id="output_canvas"></canvas>
            <div id="gesture-status">IDLE</div>
        </div>
    </div>

    <!-- Custom Cursor -->
    <div id="custom-cursor"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script>

    <!-- Main Application Module -->
    <script type="module" src="main.js"></script>

</body>

</html>